Explanation of SUBSTR(date, 7, 4)
date: This is the string from which you want to extract the substring. 
In this context, it is likely a date string.
7: This is the start_position parameter. It indicates the position within the date string
 where the substring extraction should begin. The position is 1-based, meaning the first 
 character in the string is at position 1.
4: This is the length parameter. It specifies the number of characters to extract from 
the date string, starting from the start_position.